---
description: Resource monitoring and telemetry system for tracking GPU metrics, utilization, and performance alerts.
globs: **/telemetry.py,**/gpu/monitor.py,**/metrics/*.py,**/telemetry/*.py
alwaysApply: false
---


# resource-monitoring-system

The telemetry system implements a comprehensive GPU resource monitoring framework with the following key components:

## Telemetry Collection Engine
- Implements fault-tolerant GPU metrics collection with exponential backoff recovery 
- Maintains 60-second rolling metrics history using HistoryBuffer
- Smart caching system for GPU names with TTL to prevent memory leaks
- Auto-fallback to mock data after consecutive failures

## Metrics & Alerting
Implements weighted alert thresholds based on business rules:
```
EMERGENCY: 
- Memory ≥95% 
- Temperature ≥90°C

CRITICAL:
- Memory ≥90%
- Temperature ≥80°C
- Power ≥98%

WARNING:
- Memory ≥75%  
- Temperature ≥70°C
- Power ≥90%
```

## Multi-GPU Analytics
- Calculates aggregate performance metrics across GPU cluster:
  - Average utilization
  - Total memory pressure  
  - System-wide temperature trends
- Maintains separate profiles for high/mid-range GPUs with different baselines for:
  - Power limits
  - Memory capacity
  - Clock speed ranges

## Telemetry Distribution
Implements hierarchical event distribution:
- Real-time per-GPU metrics
- System-wide aggregate metrics 
- Historical trend data

Supports dual event format:
- Enhanced format with comprehensive metrics
- Legacy format for existing integrations

## File Paths
- dualgpuopt/telemetry.py
- dualgpuopt/gpu/monitor.py
- dualgpuopt/metrics/
- dualgpuopt/telemetry/

$END$