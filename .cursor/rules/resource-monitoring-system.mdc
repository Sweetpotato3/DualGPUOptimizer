---
description: GPU resource monitoring and telemetry system for dual GPU configurations
globs: '**/telemetry.py','**/monitor.py','**/tray.py','dualgpuopt/metrics.py'
alwaysApply: false
---


# resource-monitoring-system

## GPU Telemetry Service Architecture
File: dualgpuopt/telemetry.py

The telemetry system collects real-time GPU performance metrics focusing on:
- Memory utilization correlation with model workloads
- Power usage scaling based on utilization patterns
- Temperature-based fan speed control
- PCIe bandwidth monitoring relative to GPU activity

Core monitoring capabilities:
- Multi-GPU performance tracking
- Token processing speed measurement (TPS)
- Dynamic resource allocation based on availability

## Memory Pressure Monitoring
File: dualgpuopt/metrics.py

Specialized memory monitoring system that:
- Tracks memory allocation relative to model sizes
- Implements pressure-based warning thresholds:
  * WARNING at 80% utilization 
  * CRITICAL at 90% utilization
  * EMERGENCY at 95% utilization
- Provides memory reclamation recommendations based on pressure levels

## Alert Management
File: dualgpuopt/tray.py

Alert logic coordinates GPU status monitoring:
- Temperature-based alert thresholds
  * Warning alerts at 70°C
  * Critical alerts at 80°C
  * Emergency shutdown triggers at 95°C
- Power limit monitoring with dynamic thresholds
- Utilization correlation with expected workloads

Key Business Rules:
- Temperature thresholds adapt based on sustained load patterns
- Memory warnings incorporate growth rate predictions
- Power alerts consider both absolute and relative increases
- Alert priorities dynamically adjust based on correlated metrics

The monitoring system provides specialized oversight of dual GPU configurations with particular focus on ML workload optimization and hardware safety boundaries.

Importance Score: 85 - Critical system for GPU health monitoring and optimization but not core model execution logic

$END$