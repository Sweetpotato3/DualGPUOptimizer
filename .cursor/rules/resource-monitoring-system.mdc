---
description: Resource monitoring system specification for GPU monitoring, memory tracking and alerts in dual GPU setups
globs: **/telemetry.py,**/monitor.py,**/metrics.py,**/gpu_info.py,**/tray.py
alwaysApply: false
---


# resource-monitoring-system

The resource monitoring system implements specialized telemetry collection and analysis for dual GPU configurations:

## GPU Metrics Collection

- Real-time monitoring of key GPU metrics:
  - GPU utilization tracking per core
  - VRAM usage and availability
  - Temperature monitoring with warning thresholds 
  - Power consumption tracking
  - Fan speed monitoring
  - Clock speeds (SM and Memory)
  - PCIe bandwidth utilization

- Custom update intervals:
  - 1000ms standard interval for regular metrics
  - 500ms critical interval for temperature/power
  - Configurable thresholds for different metrics

## Alert Mechanism 

- Multi-level alerting system:
  - Temperature alerts at 80°C warning, 90°C critical
  - Memory usage alerts at 80%, 90%, 95% thresholds
  - Power limit warnings at 95% TDP
  - Fan speed alerts for suboptimal cooling

- Alert propagation through event bus system
- User notifications via system tray
- Configurable alert thresholds and recovery actions

## Memory Tracking

- VRAM usage monitoring:
  - Per-process memory tracking
  - Reserved vs used memory tracking
  - Memory fragmentation detection
  - Automatic VRAM recovery triggers
  
- Memory pressure prediction:
  - Usage trend analysis
  - OOM prevention through early warnings
  - Configurable safety margins

Relevant file paths:
- dualgpuopt/telemetry.py - Core telemetry collection
- dualgpuopt/metrics.py - Metric processing and analysis
- dualgpuopt/gpu_info.py - GPU information gathering
- dualgpuopt/tray.py - System tray notifications

$END$