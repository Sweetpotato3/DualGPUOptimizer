---
description: Specification for GPU resource monitoring, metrics collection, and performance telemetry implementation in dual GPU systems.
globs: **/telemetry.py,**/tray.py,**/metrics.py,**/monitor.py,**/gpu_info.py
alwaysApply: false
---


# resource-monitoring-system

The resource monitoring system implements specialized GPU telemetry and performance tracking for dual GPU configurations:

Core GPU Metrics Collection:
- Real-time monitoring of GPU utilization percentages
- Memory usage tracking (used/total/free)
- PCIe bandwidth monitoring (RX/TX rates) 
- Temperature and power consumption
- Clock speeds (graphics/memory)
- Fan speeds and thermal thresholds

Telemetry Processing Pipeline:
- Event-driven metrics collection with configurable intervals
- Middleware processing chain for raw GPU data transformation
- Custom aggregation for multi-GPU synchronization
- Alert triggering based on configurable thresholds:
  * Temperature warning at 80°C
  * Memory usage warning at 90%
  * Power limit warnings
  * Idle detection after 5 minutes below 30% usage

Performance History Management:
- Rolling 60-sample metrics history per GPU
- Correlated metrics tracking:
  * Utilization affects temperature (35°C base + scaled range)
  * Power usage scales between GPU min/max based on load
  * Clock speeds scale with utilization (500-2500MHz range)
- Mock data generation maintains realistic correlations for testing

Alert System:
- Four-tier severity classification:
  * NORMAL: Standard operation
  * WARNING: Approaching thresholds
  * CRITICAL: Thresholds exceeded
  * EMERGENCY: Immediate action required
- Contextual recommendations based on alert type
- Progressive intervention triggers

Key Files:
- dualgpuopt/telemetry.py: Core telemetry collection
- dualgpuopt/metrics.py: Metrics processing pipeline
- dualgpuopt/gpu_info.py: GPU detection and monitoring
- dualgpuopt/memory/monitor.py: Memory tracking system

The system emphasizes maintaining consistent monitoring across dual GPU configurations while providing early warning detection and automated interventions for resource optimization.

Importance Score: 85 - Critical for dual GPU optimization but utilizes some standard monitoring patterns

$END$