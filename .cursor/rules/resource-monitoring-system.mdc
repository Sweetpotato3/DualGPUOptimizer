---
description: Specifications for GPU resource monitoring, telemetry collection, and alert systems for multi-GPU optimization
globs: **/telemetry.py,**/tray.py,**/metrics.py,**/gpu_info.py
alwaysApply: false
---


# resource-monitoring-system

## Core Telemetry System
Importance Score: 95

The telemetry system implements specialized GPU metric collection through:

1. Real-time GPU Performance Metrics:
- Load/utilization percentage
- Memory usage tracking
- PCIe bandwidth monitoring
- Temperature sensors 
- Power consumption
- Fan speeds
- Clock speeds (memory and core)

2. Idle Detection System:
- Continuous monitoring of GPU utilization
- Triggers alerts when GPUs are under 30% utilization for 5+ minutes
- Focuses on expensive GPU resource optimization

## Resource History Management
Importance Score: 85

1. Metric Buffer System:
- Maintains 60-sample historical buffer for each GPU
- Tracks performance metrics over time
- Implements rolling window for performance trends

2. Normalization Pipeline:
- Temperature scaling (0-100Â°C to percentage)
- Power usage normalization (against 400W baseline)
- Memory usage conversion between MB/GB based on size
- PCIe bandwidth with adaptive unit display

## Alert Mechanism
Importance Score: 80

Implements multi-tiered alert system:
- Resource underutilization detection
- Temperature threshold monitoring
- Power consumption warnings
- Memory capacity alerts

Key business rules:
- 30% GPU utilization threshold for idle detection
- 5-minute minimum idle duration for alerts
- Temperature thresholds mapped to percentage visualization
- Maximum power draw baseline of 400W

Relevant files:
- dual_gpu_optimizer/dualgpuopt/telemetry.py
- dual_gpu_optimizer/dualgpuopt/gpu_info.py
- dual_gpu_optimizer/dualgpuopt/metrics.py
- dual_gpu_optimizer/dualgpuopt/tray.py

$END$