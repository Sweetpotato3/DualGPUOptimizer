---
description: Monitors and manages GPU resources including telemetry, metrics collection, usage tracking, and alert mechanisms
globs: **/telemetry.py,**/tray.py,**/metrics/*.py,**/monitor/*.py
alwaysApply: false
---


# resource-monitoring-system

The resource monitoring system implements specialized GPU telemetry and metrics collection with the following key components:

Primary Telemetry Collection (dualgpuopt/telemetry.py):
- Real-time GPU metrics monitoring including utilization, memory usage, temperature, power consumption
- Custom fallback system that gracefully degrades to mock data when hardware access fails
- Configurable update intervals with throttling (100ms minimum) to prevent overwhelming the system
- Maintains per-GPU error states to allow partial system functionality

Alert Management System (dualgpuopt/memory/alerts.py):
- Multi-tiered warning system with thresholds:
  * WARNING: 80% resource utilization
  * CRITICAL: 90% resource utilization  
  * EMERGENCY: 95% resource utilization
- Implements 30-second cooldown between alerts to prevent notification spam
- Correlates alerts across multiple GPUs to identify system-wide issues

Metrics Processing Pipeline (dualgpuopt/metrics.py):
- Specialized metrics collection and normalization for dual GPU setups
- Handles unit conversions specific to GPU monitoring (mW to W, bytes to MiB)
- Implements extensive error tracking with graduated response:
  * Retries with exponential backoff for transient errors
  * NVML reinitialization after 3 consecutive failures
  * Mock data fallback after 5 consecutive failures

Tray Integration (dualgpuopt/tray.py):
- System tray monitoring with color-coded status indicators
- Quick-access GPU metrics and status overview
- Critical alert propagation via tray notifications

The system demonstrates specialized handling of GPU resource monitoring with emphasis on fault tolerance and graceful degradation pathways. Importance scores for key components:

- Telemetry Collection: 95 (Core monitoring functionality)
- Alert Management: 85 (Critical for system health)
- Metrics Processing: 80 (Essential data handling)
- Tray Integration: 65 (Important but supporting role)

$END$