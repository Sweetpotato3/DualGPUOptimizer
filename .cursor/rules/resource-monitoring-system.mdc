---
description: Resource monitoring for multi-GPU systems with telemetry, health checks, and utilization tracking
globs: **/telemetry.py,**/tray.py,**/monitor.py,**/metrics.py
alwaysApply: false
---


# resource-monitoring-system

## Core GPU Monitoring Logic

1. GPU Metrics Collection and Processing
- Critical metrics tracking:
  * Utilization rates
  * Memory usage/pressure
  * Temperature thresholds
  * Power consumption and quotas
  * Fan speeds
  * Clock speeds (SM and Memory)
  * PCIe bandwidth usage

2. Alert Level Classification System
- EMERGENCY: Memory ≥95% or Temperature ≥90°C
- CRITICAL: Memory ≥90% or Temperature ≥80°C or Power ≥98%
- WARNING: Memory ≥75% or Temperature ≥70°C or Power ≥90%
- NORMAL: All metrics below warning thresholds

3. Historical Data Management
- 60-second rolling window for performance metrics
- Tracks system-wide metrics:
  * Average GPU utilization
  * Total VRAM percentage
  * Temperature averages
  * Power profiles

4. Fault Tolerance Mechanism
- Progressive recovery strategy:
  * Tracks consecutive errors
  * Exponential backoff retry
  * NVML reinitialization attempts
  * Mock data generation fallback
  * Service continuity maintenance

File paths:
- `dualgpuopt/telemetry.py`: Core telemetry system
- `dualgpuopt/telemetry_history.py`: Historical metrics management
- `dualgpuopt/memory/monitor.py`: Memory monitoring services
- `dualgpuopt/memory/profiler.py`: Memory profiling system

$END$
